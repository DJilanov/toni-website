<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-header">
    <span class="navbar-brand">{{texts.headerCompany}}</span>
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav" ng-repeat="navItem in navigationItems | filter: {'type': 'category'}">
      <li ng-class="{ active: isActive('/home')}" ng-if="$index === 0">
        <a ng-href="#/home">{{texts.homePageBigTitle}}</a>
      </li>
      <li ng-class="{ active: isActive('/product/{{navItem.link}}')}" ng-show="navItem.shownOnNav">
        <a ng-href="#/product/{{navItem.link}}">{{navItem.name}}</a>
      </li>
       <li ng-class="{ active: isActive('/contacts')}" ng-if="$last">
        <a ng-href="#/contacts">{{texts.headerContact}}</a>
      </li>
    </ul>
    <div class="navbar-header navbar-right">
      <p class="navbar-text">
       <a href="#" class="navbar-link">Username  </a>
      </p>
      <div class='col-lg-1'></div>
    </div>
  </div>
  <div class="navbar-collapse collapse">
    <div class='col-lg-2'>
      <ul class="nav navbar-nav">
        <li><a href="#">Shop by Department</a></li>
      </ul>
    </div>
    <div class='col-lg-9'>
      <div class="input-group search">
        <input type="text" ng-model="customPopupSelected" placeholder="Search for..." uib-typeahead="product as product.title for product in products | filter:{name:$viewValue}" typeahead-popup-template-url="customPopupTemplate.html" class="form-control">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" ng-click='search()'>Search</button>
        </span>
      </div>
    </div>
    <div class='col-lg-1'>
     <!-- image of the flag -->
     <img class='flag' src="img/flag-bg.png" alt="product" width="50px" ng-click='changeLanguage()'>
    </div>
  </div>
</nav>

<script type="text/ng-template" id="customTemplate.html">
  <a>
    <img ng-src="http://upload.wikimedia.org/wikipedia/commons/thumb/{{match.model.flag}}" width="16">
    <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>
  </a>
</script>

<script type="text/ng-template" id="customPopupTemplate.html">
  <div class="custom-popup-wrapper"
       ng-style="{top: position().top+'px', left: position().left+'px'}"
       style="display: block;"
       ng-show="isOpen() && !moveInProgress"
       aria-hidden="{{!isOpen()}}">
    <p class="message">select location from drop down.</p>

    <ul class="dropdown-menu" role="listbox">
      <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }"
          ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">
        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>
      </li>
    </ul>
  </div>
</script>